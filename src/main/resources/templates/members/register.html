<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/header :: header"/>
<body class="bg-primary">
<div th:replace="fragments/bodyHeader::bodyHeader"/>
<div id="layoutAuthentication">
    <div id="layoutAuthentication_content">
        <main>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-7">
                        <div class="card shadow-lg border-0 rounded-lg mt-5">
                            <div class="card-header"><h3 class="text-center font-weight-light my-4">회원 가입</h3></div>
                            <div class="card-body">
                                <form role="form" action="/register" th:object="${memberForm}" method="post">
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="form-floating mb-3 mb-md-0">
                                                <input class="form-control" id="inputName" type="text"
                                                       placeholder="이름을 입력하세요" th:field="*{name}"
                                                       th:class="${#fields.hasErrors('name')}? 'form-control' : 'form-control'"/>
                                                <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
                                                   style="color: red; font-size: 10px">Incorrect data</p>
                                                <label for="inputName">이름</label>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-floating">
                                                <input class="form-control" id="inputNickName" type="text"
                                                       placeholder="닉네임을 입력하세요" th:field="*{nickName}"
                                                       th:class="${#fields.hasErrors('nickName')}? 'form-control' : 'form-control'"/>
                                                <p th:if="${#fields.hasErrors('nickName')}" th:errors="*{nickName}"
                                                   style="color: red; font-size: 10px">Incorrect data</p>
                                                <label for="inputNickName">닉네임</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <input class="form-control" id="inputEmail" type="email"
                                               placeholder="name@example.com" th:field="*{email}"
                                               th:class="${#fields.hasErrors('email')}? 'form-control' : 'form-control'"/>
                                        <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                                           style="color: red; font-size: 10px">Incorrect data</p>
                                        <label for="inputEmail">이메일 주소</label>
                                    </div>
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="form-floating mb-3 mb-md-0">
                                                <input class="form-control" id="inputPassword" type="password"
                                                       placeholder="Create a password" th:field="*{password}"
                                                       th:class="${#fields.hasErrors('password')}? 'form-control' : 'form-control'"/>
                                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                                                   style="color: red; font-size: 10px">Incorrect data</p>
                                                <label for="inputPassword">Password</label>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-floating mb-3 mb-md-0">
                                                <input class="form-control" id="inputPasswordConfirm" type="password"
                                                       placeholder="Confirm password" onkeyup="confirmcheck()"/>
                                                <p id ="confirmpw" style = "font-size: 10px"></p>
                                                <label for="inputPasswordConfirm">Confirm Password</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-4 mb-0">
                                        <div class="d-grid"><button type = "submit" class="btn btn-primary btn-block" >회원
                                            가입</button></div>
                                    </div>

                                </form>
                                <div class="card-footer text-center py-3">
                                    <div class="small"><a href="/login">계정이 있으신가요?</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>


    </div>
    <div id="layoutAuthentication_footer">
        <footer th:replace="fragments/footer :: footer"/>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script>

    function confirmcheck() {
        var confirm = document.getElementById("inputPasswordConfirm").value;
        var pw = document.getElementById("inputPassword").value;
        var p = document.getElementById("confirmpw");

        if (confirm == pw) {
            p.style.color = "green";
            p.innerText = "비밀번호가 일치합니다.";
        } else {
            p.style.color = "red";
            p.innerText = "비밀번호가 일치하지 않습니다.";
        }



    }



</script>
</body>
</html>